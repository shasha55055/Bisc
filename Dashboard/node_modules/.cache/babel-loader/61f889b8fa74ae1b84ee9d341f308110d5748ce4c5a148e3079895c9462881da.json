{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"Biscuitt.ai Dashboard\")], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  style: {\n    \"background-color\": \"#f0feff\",\n    \"padding\": \"5%\",\n    \"margin\": \"10px auto\",\n    \"display\": \"inline-block\"\n  }\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"User Login Info\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  style: {\n    \"background-color\": \"#fff0f6\",\n    \"padding\": \"5%\",\n    \"margin\": \"10px auto\",\n    \"display\": \"inline-block\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Transcript Uploads\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  style: {\n    \"background-color\": \"#fefff0\",\n    \"padding\": \"2%\",\n    \"margin\": \"10px auto\"\n  }\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Feature Flags\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_UserLogins = _resolveComponent(\"UserLogins\");\n  const _component_LoginChart = _resolveComponent(\"LoginChart\");\n  const _component_UploadsChart = _resolveComponent(\"UploadsChart\");\n  const _component_FeatureFlags = _resolveComponent(\"FeatureFlags\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createVNode(_component_UserLogins, {\n    users: $data.users\n  }, null, 8 /* PROPS */, [\"users\"]), _createVNode(_component_LoginChart, {\n    users: $data.users\n  }, null, 8 /* PROPS */, [\"users\"])]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createVNode(_component_UploadsChart)]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createVNode(_component_FeatureFlags)])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","style","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_UserLogins","users","$data","_component_LoginChart","_hoisted_4","_hoisted_5","_component_UploadsChart","_hoisted_6","_hoisted_7","_component_FeatureFlags"],"sources":["/Users/shashaliu/Desktop/mobile/biscuitt_dashboard/biscuitt-dashboard/src/components/HomePage.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Biscuitt.ai Dashboard</h1>\n  </div>\n  <div style=\"background-color:#f0feff; padding: 5%; margin: 10px auto; display: inline-block;\">\n    <h2>User Login Info</h2>\n    <UserLogins :users=\"users\" />\n    <LoginChart :users=\"users\" />\n  </div>\n  <div style=\"background-color:#fff0f6; padding: 5%; margin: 10px auto; display: inline-block;\">\n    <h2>Transcript Uploads</h2>\n    <UploadsChart />\n  </div>\n  <div>\n    <div style=\"background-color:#fefff0; padding: 2%; margin: 10px auto;\">\n      <h2>Feature Flags</h2>\n      <FeatureFlags />\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserLogins from './UserLogins.vue';\nimport LoginChart from './LoginChart.vue';\nimport UploadsChart from './UploadsChart.vue';\nimport FeatureFlags from './FeatureFlags.vue';\n\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, getDocs } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD0-Gcro2-YgPSdeDuoiHmXRq9akRteGKg',\n  authDomain: 'biscuitt-21b7d.firebaseapp.com',\n  databaseURL: \"https://biscuitt-21b7d.firebaseio.com\",\n  projectId: 'biscuitt-21b7d',\n  storageBucket: 'biscuitt-21b7d.appspot.com',\n  messagingSenderId: '138914182592',\n  appId: '1:138914182592:android:0ad3a72da157ea12534425'\n};\n\nexport default {\n  name: 'HomePage',\n  components: {\n    UserLogins,\n    LoginChart,\n    UploadsChart,\n    FeatureFlags,\n  },\n\n  data() {\n    return {\n      // Initialize users with empty array, will be populated in mounted\n      users: [],\n    };\n  },\n\n  async mounted() {\n    // Call your asynchronous function here and update users\n    await this.helloworld();\n  },\n\n  methods: {\n    async helloworld() {\n      // Simulating an asynchronous operation\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      const firebaseApp = initializeApp(firebaseConfig);\n      const db = getFirestore(firebaseApp);\n      const loginsCollection = collection(db, 'logins');\n\n      // Get all documents in the \"logins\" collection\n      const snapshot = await getDocs(loginsCollection);\n\n      // Process each document in the snapshot\n      const users = [];\n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        console.log(data.username)\n        const user = {\n          id: 1,\n          name: data.username, \n          lastLogin: this.formatTimestamp(data.time), \n        };\n        users.push(user);\n      });\n\n      // Update the users with the result\n      this.users = users.slice(0,5);\n    },\n    formatTimestamp(timestamp) {\n    const date = timestamp.toDate();\n    return date.toLocaleString(); // Adjust the options as needed\n    },\n  },\n};\n</script>"],"mappings":";gCACEA,mBAAA,CAEM,c,aADJA,mBAAA,CAA8B,YAA1B,uBAAqB,E;;EAEtBC,KAAwF,EAAxF;IAAA;IAAA;IAAA;IAAA;EAAA;AAAwF;gCAC3FD,mBAAA,CAAwB,YAApB,iBAAe;;EAIhBC,KAAwF,EAAxF;IAAA;IAAA;IAAA;IAAA;EAAA;AAAwF;gCAC3FD,mBAAA,CAA2B,YAAvB,oBAAkB;;EAIjBC,KAAiE,EAAjE;IAAA;IAAA;IAAA;EAAA;AAAiE;gCACpED,mBAAA,CAAsB,YAAlB,eAAa;;;;;;;6DAdrBE,UAEM,EACNF,mBAAA,CAIM,OAJNG,UAIM,GAHJC,UAAwB,EACxBC,YAAA,CAA6BC,qBAAA;IAAhBC,KAAK,EAAEC,KAAA,CAAAD;EAAK,oCACzBF,YAAA,CAA6BI,qBAAA;IAAhBF,KAAK,EAAEC,KAAA,CAAAD;EAAK,mC,GAE3BP,mBAAA,CAGM,OAHNU,UAGM,GAFJC,UAA2B,EAC3BN,YAAA,CAAgBO,uBAAA,E,GAElBZ,mBAAA,CAKM,cAJJA,mBAAA,CAGM,OAHNa,UAGM,GAFJC,UAAsB,EACtBT,YAAA,CAAgBU,uBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}