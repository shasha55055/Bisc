{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1a0f7e9c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"uploads-chart\"\n};\nconst _hoisted_2 = {\n  ref: \"uploadsChartCanvas\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"canvas\", _hoisted_2, null, 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2"],"sources":["/Users/shashaliu/Desktop/mobile/biscuitt_dashboard/biscuitt-dashboard/src/components/UploadsChart.vue"],"sourcesContent":["<template>\n  <div class=\"uploads-chart\">\n    <canvas ref=\"uploadsChartCanvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport Chart from 'chart.js/auto';\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, doc, getDoc } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD0-Gcro2-YgPSdeDuoiHmXRq9akRteGKg',\n  authDomain: 'biscuitt-21b7d.firebaseapp.com',\n  databaseURL: \"https://biscuitt-21b7d.firebaseio.com\",\n  projectId: 'biscuitt-21b7d',\n  storageBucket: 'biscuitt-21b7d.appspot.com',\n  messagingSenderId: '138914182592',\n  appId: '1:138914182592:android:0ad3a72da157ea12534425'\n};\n\nexport default {\n  name: 'UploadsChart',\n  data() {\n    return {\n      chart: null,\n      data: null,\n      countValue: null, // Initialize countValue in the component's data\n    };\n  },\n  async mounted() {\n    // Fetch count from Firestore and set countValue\n    await this.fetchCount();\n    // Fetch data for the chart\n    this.fetch();\n  },\n  watch: {\n    data: 'createChart',\n  },\n  methods: {\n    async fetchCount() {\n      const firebaseApp = initializeApp(firebaseConfig);\n      const db = getFirestore(firebaseApp);\n      const docRef = doc(db, \"file_tracking\", \"pick_file_counter\");\n      const docSnap = await getDoc(docRef);\n\n      if (docSnap.exists()) {\n        this.countValue = docSnap.data().count;\n        console.log(\"Count Value:\", this.countValue);\n      } else {\n        console.log(\"No such document!\");\n      }\n\n      console.log('Firestore Database:', db);\n    },\n    async fetch() {\n      this.data = await this.func();\n    },\n    async func() {\n      console.log(\"hello world\", this.countValue);\n      return [3, 6, 4, 8, 0, this.countValue];\n    },\n    createChart() {\n      if (this.data) {\n        const ctx = this.$refs.uploadsChartCanvas.getContext('2d');\n        this.chart = new Chart(ctx, {\n          type: 'line',\n          data: {\n            labels: ['2023-11-29', '2023-11-30', '2023-12-01', '2023-12-02', '2023-12-03', '2023-12-04'],\n            datasets: [{\n              label: 'Number of Uploads',\n              data: this.data,\n              backgroundColor: 'rgba(54, 162, 235, 0.5)',\n              borderColor: 'rgba(54, 162, 235, 1)',\n              fill: false,\n            }]\n          },\n          options: {\n            scales: {\n              y: {\n                beginAtZero: true\n              }\n            },\n            responsive: false,\n          }\n        });\n      }\n    },\n  }\n};\n</script>\n\n<style scoped>\n  canvas {\n    width: 100%;\n    height: 100%;\n    margin: auto;\n  }\n  .uploads-chart {\n    width: 100%;\n    margin: 20px auto;\n  }\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAe;;EAChBC,GAAG,EAAC;AAAoB;;uBADlCC,mBAAA,CAEM,OAFNC,UAEM,GADJC,mBAAA,CAA0C,UAA1CC,UAA0C,8B"},"metadata":{},"sourceType":"module","externalDependencies":[]}